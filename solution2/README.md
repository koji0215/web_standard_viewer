# Solution 2: 分離表示モード

## 概要

MIMIZUKU Dual Field PNG View の改善案2の実装です。

## 実装内容

### 主な変更点

1. **距離閾値による自動モード切り替え**
   - 天体間距離が **10分角（10'）** を超える場合、分離モードに自動切り替え
   - 10分角以下の場合は従来の単一ビューモードで表示
   
2. **分離表示モード**
   - 各天体を中心とした **2つの独立したAladinビュー** を横並びで表示
   - 各ビューのFoVは **3分角（0.05度）** に固定
   - Target（黄色）とGuide Star（シアン）を別々に高解像度で表示
   
3. **PNG変換の改良**
   - 分離モード時は各ビューを個別にキャプチャ
   - `scale: 4` で高解像度キャプチャ
   - 固定の狭いFoVにより、常に高画質な画像を取得

## 使い方

1. ブラウザで `solution2/index.html` を開く
2. 通常通り天体とガイド星を選択
3. "Show MIMIZUKU Dual Field" をクリック
   - **天体間距離 ≤ 10'**: 通常モード（単一ビュー）
   - **天体間距離 > 10'**: 分離モード（2つのビュー）
4. "Switch to PNG View" をクリックしてPNG出力

## 効果

- ✅ 天体間距離に関係なく、常に高解像度の画像を取得
- ✅ 各天体を狭いFoVで表示するため、HiPSタイルの高解像度部分を活用
- ✅ より実際の観測イメージに近い表示
- ⚠️ 分離モード時は2つの天体間の相対位置関係がわかりにくい
- ⚠️ 2つのAladinインスタンスを使用するため、メモリ使用量が増加

## UI表示

### 通常モード（天体間距離 ≤ 10'）
従来通りの単一Aladinビューで両天体を表示

### 分離モード（天体間距離 > 10'）
```
┌─────────────────┬─────────────────┐
│   Target (黄)   │  Guide Star (青) │
│                 │                 │
│   [Aladin 1]    │   [Aladin 2]    │
│                 │                 │
└─────────────────┴─────────────────┘
```

## 技術詳細

- **距離閾値**: 10分角（0.167度）
- **分離モードFoV**: 3分角（0.05度）
- **html2canvas scale**: 4
- **実装工数**: 約1-2日
- **Aladinインスタンス数**: 通常モード=1、分離モード=2
