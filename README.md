# web_standard_viewer

## 現在のビューワー機能の概要

このWebアプリケーションは、天体観測のためのインタラクティブなスカイビューワーです。Aladin Lite v3を使用して、天体の位置確認とガイド星の選択を行うことができます。

### 主な機能

#### 1. 天体検索
- 座標入力（例：18h09m01.4800s -20d05m08.000s）による天体の検索
- 検索後、25分角の視野円（赤色）を表示
- Aladin画像上で天体の位置を確認

#### 2. カタログ読み込み
- CSVファイルから星カタログを読み込み可能
- 複数のカタログファイルに対応
- 視野内の星を自動検出（最大500個）

#### 3. 星の表示とマーカー
- 視野内の星を右パネルのリストに表示
- Aladin画像上に青い四角（□）マーカーで表示
- 推奨ガイド星（P.A.制約内）はマゼンタ色（紫）のマーカーで表示
- **星をクリックすると、マーカーの色が赤色に変化**
- 選択された星は表中でも黄色の枠で強調表示

#### 4. 位置角（P.A.）制御
- 観測装置のP.A.と許容範囲を設定可能
- P.A.制約に基づいて推奨ガイド星を黄色の扇形で表示
- P.A.制約の有効/無効を切り替え可能

#### 5. 測光フィルター
- カタログ内の等級列でフィルタリング可能
- 最小値・最大値を指定して星を絞り込み

#### 6. サーベイ画像の切り替え
- 2MASS（赤外線）
- DSS2（可視光）
- AllWISE
- SDSS9
- PanSTARRS DR1

#### 7. MIMIZUKU デュアルフィールドビュー
- ターゲットとガイド星の両方の視野（各1'×2'）を表示
- インタラクティブビューとPNG画像ビューの切り替え可能

#### 8. 観測可能性チェック
- 指定した日付と観測所での観測可能性を確認
- Subaru、Keck、Magellan、VLTに対応
- 日の出・日の入り、薄明時刻、天体の高度を計算

### 技術仕様
- **フロントエンド**: 純粋なJavaScript（フレームワーク不使用）
- **天体画像**: Aladin Lite v3
- **CSVパース**: PapaParse
- **スクリーンショット**: html2canvas

### 使い方
1. `index.html`をWebブラウザで開く
2. Target欄に座標を入力してSearchボタンをクリック
3. "Star Catalog"から.csvファイルを選択して"Load Catalogs"をクリック
4. 右パネルの星リストから観測したい星をクリック
5. 選択した星で観測する場合は"Observe with this star"ボタンをクリック